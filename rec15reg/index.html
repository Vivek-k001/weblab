<!DOCTYPE html>
<html>
<head>
  <title>STUDENT REGISTRATION FORM</title>
  <style>
    .error {
      color: red;
      font-size: 12px;
    }
  </style>
</head>
<body>

<h2 align="center">STUDENT REGISTRATION FORM</h2>

<form id="regForm" onsubmit="return validateForm();">
<table border="1" align="center" cellpadding="5" cellspacing="0">

<tr>
  <td>FIRST NAME:</td>
  <td>
    <input type="text" id="fname">
    <div class="error" id="fnameError"></div>
  </td>
</tr>

<tr>
  <td>LAST NAME:</td>
  <td>
    <input type="text" id="lname">
    <div class="error" id="lnameError"></div>
  </td>
</tr>

<tr>
  <td>EMAIL ID:</td>
  <td>
    <input type="text" id="email">
    <div class="error" id="emailError"></div>
  </td>
</tr>

<tr>
  <td>DOB:</td>
  <td>
    <input type="date" id="dob">
    <div class="error" id="dobError"></div>
  </td>
</tr>

<tr>
  <td>MOBILE NUMBER:</td>
  <td>
    <input type="text" id="mobile" maxlength="10"
           oninput="this.value=this.value.replace(/[^0-9]/g,'');">
    <div class="error" id="mobileError"></div>
  </td>
</tr>

<tr>
  <td>GENDER:</td>
  <td>
    <input type="radio" name="gender" value="male"> Male
    <input type="radio" name="gender" value="female"> Female
    <div class="error" id="genderError"></div>
  </td>
</tr>

<tr>
  <td>ADDRESS:</td>
  <td>
    <textarea id="address" rows="2" cols="40"></textarea>
    <div class="error" id="addressError"></div>
  </td>
</tr>

<tr>
  <td>CITY:</td>
  <td>
    <input type="text" id="city" oninput="this.value=this.value.replace(/[^a-zA-Z]/g,'');">
    <div class="error" id="cityError"></div>
  </td>
</tr>

<tr>
  <td>PIN CODE:</td>
  <td>
    <input type="text" id="pin" maxlength="6"
           oninput="this.value=this.value.replace(/[^0-9]/g,'');">
    <div class="error" id="pinError"></div>
  </td>
</tr>

<tr>
  <td>STATE:</td>
  <td>
    <input type="text" id="state">
    <div class="error" id="stateError"></div>
  </td>
</tr>

<tr>
  <td>Qualification:</td>
  <td>
    <table border="1" cellpadding="4" cellspacing="0">
      <tr>
        <th>SL NO</th>
        <th>Examination</th>
        <th>Board</th>
        <th>Percentage %</th>
        <th>Year of Passing</th>
      </tr>
      <tr>
        <td>1</td>
        <td>Class X</td>
        <td><input type="text" class="board"></td>
        <td><input type="text" class="percent" maxlength="3"
                   oninput="this.value=this.value.replace(/[^0-9]/g,'');"></td>
        <td><input type="text" class="year" maxlength="4"
                   oninput="this.value=this.value.replace(/[^0-9]/g,'');"></td>
      </tr>
      <tr>
        <td>2</td>
        <td>Class XII</td>
        <td><input type="text" class="board"></td>
        <td><input type="text" class="percent" maxlength="3"
                   oninput="this.value=this.value.replace(/[^0-9]/g,'');"></td>
        <td><input type="text" class="year" maxlength="4"
                   oninput="this.value=this.value.replace(/[^0-9]/g,'');"></td>
      </tr>
      <tr>
        <td>3</td>
        <td>Degree</td>
        <td><input type="text" class="board"></td>
        <td><input type="text" class="percent" maxlength="3"
                   oninput="this.value=this.value.replace(/[^0-9]/g,'');"></td>
        <td><input type="text" class="year" maxlength="4"
                   oninput="this.value=this.value.replace(/[^0-9]/g,'');"></td>
      </tr>
      <tr>
        <td>4</td>
        <td>Masters</td>
        <td><input type="text" class="board"></td>
        <td><input type="text" class="percent" maxlength="3"
                   oninput="this.value=this.value.replace(/[^0-9]/g,'');"></td>
        <td><input type="text" class="year" maxlength="4"
                   oninput="this.value=this.value.replace(/[^0-9]/g,'');"></td>
      </tr>
    </table>
    <div class="error" id="qualificationError"></div>
  </td>
</tr>

<tr>
  <td>COURSE APPLIED FOR:</td>
  <td>
    <input type="radio" name="course" value="MCA"> MCA
    <input type="radio" name="course" value="MTech"> M.Tech
    <input type="radio" name="course" value="MSc"> M.Sc
    <input type="radio" name="course" value="PhD"> Ph.D
    <div class="error" id="courseError"></div>
  </td>
</tr>

<tr>
  <td>PASSWORD:</td>
  <td>
    <input type="password" id="password" maxlength="30">
    <div class="error" id="passwordError"></div>
  </td>
</tr>

<tr>
  <td colspan="2" align="center">
    <input type="submit" value="SUBMIT">
    <input type="reset" value="RESET">
  </td>
</tr>

</table>
</form>

<script>
function validateForm() {
  let isValid = true;

  // Helper function to show error text
  const setError = (id, msg) => document.getElementById(id).textContent = msg;

  // Validation list (to reduce repetition)
  const fields = [
    {id:"fname", error:"fnameError", msg:"First name is required"},
    {id:"lname", error:"lnameError", msg:"Last name is required"},
    {id:"email", error:"emailError", msg:"Email is required", pattern:/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/, invalid:"Invalid email format"},
    {id:"dob", error:"dobError", msg:"Date of birth is required"},
    {id:"mobile", error:"mobileError", msg:"Mobile number is required", pattern:/^\\d{10}$/, invalid:"Mobile must be 10 digits"},
    {id:"address", error:"addressError", msg:"Address is required"},
    {id:"city", error:"cityError", msg:"City is required"},
    {id:"pin", error:"pinError", msg:"Pincode is required", pattern:/^\\d{6}$/, invalid:"Pincode must be 6 digits"},
    {id:"state", error:"stateError", msg:"State is required"},
    {id:"password", error:"passwordError", msg:"Password is required"}
  ];

  // Loop through all fields
  fields.forEach(f => {
    const el = document.getElementById(f.id);
    if (el.value.trim() === "") {
      setError(f.error, f.msg);
      isValid = false;
    } else if (f.pattern && !f.pattern.test(el.value.trim())) {
      setError(f.error, f.invalid);
      isValid = false;
    } else {
      setError(f.error, "");
    }
  });

  // Gender check
  const genderSelected = document.querySelector('input[name="gender"]:checked');
  setError("genderError", genderSelected ? "" : "Please select gender");
  if (!genderSelected) isValid = false;

  // Course check
  const courseSelected = document.querySelector('input[name="course"]:checked');
  setError("courseError", courseSelected ? "" : "Please select a course");
  if (!courseSelected) isValid = false;

  // Qualification check
  const boards = document.querySelectorAll(".board");
  const percents = document.querySelectorAll(".percent");
  const years = document.querySelectorAll(".year");
  let allFilled = true;
  for (let i = 0; i < boards.length; i++) {
    if (!boards[i].value.trim() || !percents[i].value.trim() || !years[i].value.trim()) {
      allFilled = false;
      break;
    }
  }
  setError("qualificationError", allFilled ? "" : "All qualification fields must be filled");
  if (!allFilled) isValid = false;

  return isValid;
}
</script>

</body>
</html>
